# éƒ¨ç½²è§†å›¾æ¨¡æ¿ (Deployment View Template)

> **Metadata**
> - **Source**: `{{æž¶æž„è®¾è®¡æ–‡æ¡£è·¯å¾„}}`
> - **Generated At**: `{{ç”Ÿæˆæ—¶é—´ YYYY-MM-DD HH:mm}}`
> - **Generator**: `Context-Agent v1.0`

---

## ðŸ—ºï¸ åŸºç¡€è®¾æ–½æ˜ å°„

| é€»è¾‘å®¹å™¨ | åŸºç¡€è®¾æ–½èŠ‚ç‚¹ | å®žä¾‹è§„æ ¼ | ä¼¸ç¼©ç­–ç•¥ | ç½‘ç»œåŒºåŸŸ |
|---------|-------------|---------|---------|---------|
| API Gateway | Kubernetes Pod | 2 CPU, 4GB | HPA (CPU > 70%) | Public Subnet |
| User Service | Kubernetes Pod | 2 CPU, 4GB | HPA (CPU > 70%) | Private Subnet |
| Content Service | Kubernetes Pod | 4 CPU, 8GB | HPA (CPU > 60%) | Private Subnet |
| PostgreSQL | AWS RDS | db.r5.large | Multi-AZ Standby | Data Subnet |
| Redis | AWS ElastiCache | cache.r5.large | 2 èŠ‚ç‚¹é›†ç¾¤ | Data Subnet |

---

## â˜ï¸ äº‘æž¶æž„æ‹“æ‰‘

```mermaid
graph TB
    subgraph "Internet"
        USER[ç”¨æˆ·]
        CDN[CloudFront CDN]
    end

    subgraph "AWS Region: ap-northeast-1"
        subgraph "VPC: 10.0.0.0/16"
            subgraph "Public Subnet: 10.0.1.0/24"
                ALB[Application Load Balancer]
                NAT[NAT Gateway]
            end

            subgraph "Private Subnet: 10.0.2.0/24"
                subgraph "EKS Cluster"
                    API[API Gateway Pod]
                    SVC1[User Service Pod]
                    SVC2[Content Service Pod]
                end
            end

            subgraph "Data Subnet: 10.0.3.0/24"
                RDS[(PostgreSQL RDS)]
                REDIS[(ElastiCache Redis)]
            end
        end
    end

    USER --> CDN
    CDN --> ALB
    ALB --> API
    API --> SVC1
    API --> SVC2
    SVC1 --> RDS
    SVC1 --> REDIS
    SVC2 --> RDS
```

---

## ðŸŒ ç½‘ç»œåˆ†åŒº

| å­ç½‘ç±»åž‹ | CIDR | ç”¨é€” | å®‰å…¨ç»„è§„åˆ™ |
|---------|------|------|-----------|
| **Public** | 10.0.1.0/24 | ALB, NAT | å…è®¸ 80/443 å…¥ç«™ |
| **Private** | 10.0.2.0/24 | åº”ç”¨æœåŠ¡ | ä»…å…è®¸ ALB å…¥ç«™ |
| **Data** | 10.0.3.0/24 | æ•°æ®åº“ | ä»…å…è®¸ Private å…¥ç«™ |

---

## ðŸ”„ çŽ¯å¢ƒåˆ†å±‚

| çŽ¯å¢ƒ | ç”¨é€” | èµ„æºè§„æ¨¡ | æ•°æ®ç­–ç•¥ |
|------|------|---------|---------|
| **Development** | å¼€å‘æµ‹è¯• | æœ€å°åŒ– | è„±æ•æ•°æ® |
| **Staging** | é¢„å‘å¸ƒéªŒè¯ | ç”Ÿäº§ 50% | ç”Ÿäº§å¿«ç…§ |
| **Production** | æ­£å¼çŽ¯å¢ƒ | å®Œæ•´è§„æ¨¡ | çœŸå®žæ•°æ® |

---

## ðŸ› ï¸ IaC èµ„æº

| ç»„ä»¶ | IaC å·¥å…· | ä»“åº“è·¯å¾„ |
|------|---------|---------|
| AWS åŸºç¡€è®¾æ–½ | Terraform | `infra/terraform/` |
| Kubernetes èµ„æº | Helm | `infra/helm/` |
| CI/CD æµæ°´çº¿ | GitHub Actions | `.github/workflows/` |

---

## ðŸš€ CI/CD æµæ°´çº¿

```mermaid
graph LR
    A[Push Code] --> B[Build & Test]
    B --> C{Branch?}
    C -->|main| D[Deploy to Staging]
    C -->|release/*| E[Deploy to Production]
    D --> F[E2E Tests]
    F --> G[Manual Approval]
    G --> E
```
